/* ===== Reset & base ===== */
* { box-sizing: border-box; margin: 0; padding: 0; }
html,body { height: 100%; }
body {
  font-family: Tahoma, Verdana, Arial, sans-serif;
  background: linear-gradient(#3a6ea5,#2b5d91);
  color: #111;
  -webkit-touch-callout: none; -webkit-user-select: none; user-select: none;
  overflow: hidden;
}

/* ===== Desktop area ===== */
.desktop { position: relative; width: 100%; height: 100vh; }
.wallpaper { position: absolute; inset:0; background-image: radial-gradient(rgba(255,255,255,0.02) 1px, transparent 1px); background-size:60px 60px; opacity:0.15; pointer-events:none; }

/* ===== Desktop icons (4) ===== */
.icons { position: absolute; top: 20px; left: 18px; display: grid; grid-auto-rows: 72px; gap: 8px; width: 140px; }
.icon { width: 120px; display:flex; flex-direction: column; align-items:center; cursor: pointer; text-align: center; color: #fff; text-shadow: 0 1px 0 rgba(0,0,0,0.6); }
.icon .glyph { width:56px; height:56px; background: linear-gradient(#fff,#ddd); border:2px solid #003c74; box-shadow:2px 2px 0 rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; border-radius:6px; margin-bottom:6px; }
.icon span { font-size:12px; color:#f1f1f1; }

/* ===== Window style ===== */
.window { position: absolute; width: 720px; max-width: calc(100% - 40px); min-width: 260px; height: 440px; background: #ece9d8; border: 3px solid #003c74; box-shadow: 6px 6px 0 rgba(0,0,0,0.45); transform-origin: top left; transition: box-shadow 120ms; overflow: hidden; display: flex; flex-direction: column; touch-action: none; }
.title-bar { display:flex; align-items:center; justify-content:space-between; background: linear-gradient(#0058ee,#3a93ff); color:white; padding:6px 8px; cursor: grab; gap:8px; }
.title-left { display:flex; align-items:center; gap:10px; font-weight:700; }
.title-left .icon-mini { width:18px; height:18px; background:#fff; border:1px solid #003c74; border-radius:3px; }
.title-controls { display:flex; gap:6px; }
.title-controls button { width:26px; height:22px; border:none; outline:none; background:#ece9d8; border:1px solid #003c74; box-shadow: inset 0 -2px rgba(0,0,0,0.08); cursor:pointer; padding:0; }
.title-controls button:hover { transform: translateY(-1px); }
.window-body { padding: 14px; overflow: auto; flex: 1; }

/* minimized state fallback */
.minimized { transform: scale(0.85) translateY(20px); opacity: 0; }

/* maximized class uses CSS for smooth resizing */
.maximized { top: 6px !important; left: 6px !important; width: calc(100% - 12px) !important; height: calc(100% - 80px) !important; transition: top 260ms cubic-bezier(.2,.9,.2,1), left 260ms cubic-bezier(.2,.9,.2,1), width 260ms cubic-bezier(.2,.9,.2,1), height 260ms cubic-bezier(.2,.9,.2,1); }
.window[data-focused="true"] { box-shadow: 10px 10px 0 rgba(0,0,0,0.5); }

h1 { font-size:20px; margin-bottom:8px; }
p { margin-bottom:10px; line-height:1.45; }

/* ===== Taskbar ===== */
.taskbar { position: absolute; bottom: 0; left: 0; height: 54px; width: 100%; background: linear-gradient(#245edb,#1941a5); display:flex; align-items:center; gap:12px; padding:6px 10px; color: white; }
.start { background: linear-gradient(#3c8c3c,#2d6f2d); padding: 8px 14px; border-radius:6px; border: 1px solid #163e16; font-weight:700; cursor:pointer; }
.task-buttons { display:flex; gap:8px; align-items:center; flex:1; }
.task-btn { min-width: 86px; background: rgba(255,255,255,0.08); padding:6px 8px; border-radius:4px; border:1px solid rgba(0,0,0,0.2); cursor:pointer; color:#fff; display:flex; align-items:center; justify-content:center; }
.task-btn.active { outline:2px solid rgba(255,255,255,0.15); }

/* ===== Start menu ===== */
.start-menu { position: absolute; bottom: 54px; left: 8px; width: 320px; max-width: 92vw; height: auto; background: linear-gradient(#e7eef8,#d6e6ff); border:2px solid #003c74; box-shadow: 6px 6px 0 rgba(0,0,0,0.35); color:#033; display:none; z-index:99999; }
.start-menu-inner { display:flex; }
.start-left { width: 60%; padding:10px; border-right:2px solid rgba(0,0,0,0.06); }
.start-right { width:40%; padding:10px; }
.start-user { font-weight:700; margin-bottom:8px; }
.start-item { padding:8px; border-radius:4px; cursor:pointer; }
.start-item:hover { background: rgba(0,0,0,0.06); }

/* ===== Projects explorer fake UI ===== */
.explorer { display:flex; gap:12px; }
.folders { width:220px; border-right:2px dashed rgba(0,0,0,0.06); padding-right:12px; }
.folders .folder { padding:10px; cursor:pointer; display:flex; gap:8px; align-items:center; }
.folders .folder:hover { background: rgba(0,0,0,0.03); }
.files { flex:1; display:grid; grid-template-columns: repeat(auto-fill,minmax(140px,1fr)); gap:12px; padding:10px; }
.file-card { padding:8px; border:1px solid rgba(0,0,0,0.06); background:#fff; cursor:pointer; border-radius:6px; text-align:center; }

/* ===== Rotate warning ===== */
.rotate-warning { position: fixed; inset: 0; background: rgba(0,0,0,0.88); color: white; z-index: 999999; display: none; align-items: center; justify-content: center; text-align: center; padding: 20px; }
.rotate-warning h2 { font-size: 1.4rem; margin-bottom: 8px; }
.rotate-warning p { opacity: 0.9; font-size: 0.95rem; }

/* small UI helpers for the JS-created elements */
.resizer {
  position: absolute;
  width: 14px;
  height: 14px;
  right: 6px;
  bottom: 6px;
  cursor: se-resize;
  opacity: 0.001; /* practically invisible but mouse-targetable â€” keeps the vintage look */
}
.task-menu {
  position: absolute;
  background: #f6f8fb;
  border: 1px solid rgba(0,0,0,0.12);
  box-shadow: 6px 6px 0 rgba(0,0,0,0.12);
  padding: 6px;
  z-index: 999999;
}
.task-menu .item { padding:6px 8px; cursor:pointer; white-space:nowrap; }
.task-menu .item:hover { background: rgba(0,0,0,0.04); }

/* Responsive */
@media (max-width: 860px) { .window { width: calc(100% - 24px); left: 12px !important; right:12px; } .icons { left: 12px; top: 12px; } }
@media (max-width:500px) { .icons { transform: scale(0.92); } .task-btn { min-width: 64px; padding:6px 6px; font-size:12px; } }
